<table width="100%" cellpadding="5">
    <?php if ($fid = optional_param('fid', false, PARAM_INT)) { ?>
        <a href="<?php echo new moodle_url('/mod/data/field/timetable/export.php', ['fid' => $fid]); ?>" class="btn btn-success">
            <?php echo get_string('exportcredits', 'datafield_timetable'); ?>
        </a>
    <?php } ?>
    <hr>
    <tbody>
        <tr>
            <td class="c0"><label for="name"><?php echo get_string('fieldname', 'data'); ?></label></td>
            <td class="c1"><input class="fieldname" type="text" name="name" id="name" value="<?php p($this->field->name); ?>" /></td>
        </tr>
        <tr>
            <td class="c0"><label for="description"><?php echo get_string('fielddescription', 'data'); ?></label></td>
            <td class="c1"><input class="fielddescription" type="text" name="description" id="description" value="<?php p($this->field->description); ?>" /></td>
        </tr>
        <tr>
            <td class="c0"><label for="required"><?php echo get_string('requiredfield', 'data'); ?></label></td>
            <td class="c1"><input class="requiredfield" type="checkbox" name="required" id="required" <?php p($this->field->required?"checked=\"checked\"":""); ?>/></td>
        </tr>
        <tr>
            <td class="c0"><?php echo get_string('timestep', 'datafield_timetable'); ?></td>
            <td class="c1">
                <select title="<?php echo get_string('timestep', 'datafield_timetable'); ?>" name="<?php echo DATAFIELD_TIMETABLE_COLUMN_FIELD_TIME_STEP; ?>">
                    <option value="1"<?php p($this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_TIME_STEP}==1?' selected':''); ?>>1 minute</option>
                    <option value="5"<?php p($this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_TIME_STEP}==5?' selected':''); ?>>5 minutes</option>
                    <option value="15"<?php p($this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_TIME_STEP}==15?' selected':''); ?>>15 minutes</option>
                    <option value="30"<?php p($this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_TIME_STEP}==30?' selected':''); ?>>30 minutes</option>
                </select>
            </td>
        </tr>
    </tbody>
    <tbody class="datafield_timetable-categorytemplate">
        <tr>
            <td colspan="2">
                <hr>
            </td>
        </tr>
        <tr>
            <td class="c0"><?php echo get_string('categoryname', 'datafield_timetable'); ?></td>
            <td class="c1">
                <input class="datafield_timetable-categorynameinput" title="<?php echo get_string('categoryname', 'datafield_timetable'); ?>" type="text">
            </td>
        </tr>
        <tr>
            <td class="c0" style="vertical-align: top;"><?php echo get_string('categoryitems', 'datafield_timetable'); ?></td>
            <td class="c1">
                <div class="datafield_timetable-categoryitems">
                    <div class="datafield_timetable-categoryitemtemplate">
                        <input title="<?php echo get_string('category', 'datafield_timetable'); ?>" type="text" class="datafield_timetable-itemnameinput" data-id="0">
                        <button type="button" class="btn btn-sm btn-danger datafield_timetable-deletebtn">
                            Ã—
                        </button>
                    </div>
                </div>
                <a href="javascript:void(0);" class="text-success datafield_timetable-additembtn">
                    <?php echo get_string('addcategoryitem', 'datafield_timetable'); ?>
                </a>
            </td>
        </tr>
        <tr>
            <td class="c0"></td>
            <td class="c1">
                <button class="btn btn-sm btn-danger datafield_timetable-deletecategorybtn">
                    <?php echo get_string('deletecategory', 'datafield_timetable'); ?>
                </button>
            </td>
        </tr>
    </tbody>
    <tbody id="datafield_timetable-categoryinsertarea"></tbody>
    <tbody>
        <tr>
            <td colspan="2">
                <hr>
            </td>
        </tr>
        <tr>
            <td class="c0"></td>
            <td class="c1">
                <button type="button" id="datafield_timetable-addcategorybtn" class="btn btn-success"><?php echo get_string('addcategory', 'datafield_timetable'); ?></button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <hr>
            </td>
        </tr>
    </tbody>
</table>
<input type="hidden" name="<?php echo DATAFIELD_TIMETABLE_COLUMN_FIELD_CATEGORIES; ?>" id="datafield_timetable-categories_data" value="<?php echo $this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_CATEGORIES}; ?>">
<!--<textarea id="datafield_timetable-categories_data" name="<?php echo DATAFIELD_TIMETABLE_COLUMN_FIELD_CATEGORIES; ?>" title="" cols="60" rows="30"><?php echo $this->field->{DATAFIELD_TIMETABLE_COLUMN_FIELD_CATEGORIES}; ?></textarea>-->
